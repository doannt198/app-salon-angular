<div class="add-booking">
    <div class="grid">
        <div class="col-6">
            <div class="option-left">
                <a routerLink="/managementcustomer"><i class="pi pi-chevron-left"></i>Thêm khách hàng</a>
            </div>
        </div>
        <div class="col-6">
            <div class="option-right">
                <a routerLink="/managementcustomer"><i class="pi pi-times"></i></a>
            </div>
        </div>
    </div>
    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
    <div class="addbooking-body">
        <div class="customer-detail">
            <div class="customer-detail--common">
                    <h2>Khái báo thông tin chung</h2>
                    <div class="input-title-required">
                        Mã khách hàng
                    </div>
                    <div class="input-text">
                        <input type="text" pInputText="sodienthoai" name="makhachhang"
                        [(ngModel)]="infoKhachHang.makhachhang" #makhachhang="ngModel" required
                        >
                    </div>
                    <div *ngIf="f.submitted && makhachhang.invalid">
                        <div *ngIf="makhachhang.errors?.required">
                            <small>Trường này không được để trống</small>
                        </div>
                    </div>
                    <div class="input-title-required">
                        Tên khách hàng 
                    </div>
                    <div class="input-text">
                        <input type="text" pInputText name="tenkhachhang"
                        [(ngModel)]="infoKhachHang.tenkhachhang" #tenkhachhang="ngModel" required>
                    </div>
                    <div *ngIf="f.submitted && tenkhachhang.invalid">
                        <div *ngIf="tenkhachhang.errors?.['required']">
                            <small>Trường này không được để trống</small>
                        </div>
                    </div>
                    <div class="input-text-chia">
                       <div class="grid">
                           <div class="col-4"> 
                            <div class="input-title">
                                Tỉnh/Thành phố
                            </div>
                        <p-dropdown [options]="city" name="selectCity" [(ngModel)]="infoKhachHang.thanhPho" placeholder="Chọn Tỉnh/thành phố" optionLabel="name" emptyMessage="Không có dữ liệu" optionValue="id" (onChange)="getDistrict($event)">
                        </p-dropdown></div>
                           <div class="col-4">
                            <div class="input-title">
                                Quận/Huyện
                            </div> <p-dropdown [options]="district" name="selectDistrict" [(ngModel)]="infoKhachHang.quan" name="selectCity" optionLabel="name" optionValue="id" placeholder="Chọn Quận/Huyện" emptyMessage="Không có dữ liệu" (onChange)="getWard($event)">
                        </p-dropdown></div>
                           <div class="col-4">
                            <div class="input-title">
                                Xã/Phường
                            </div> <p-dropdown [options]="ward" name="selectWard" [(ngModel)]="infoKhachHang.phuong" placeholder="Chọn Phường/Xã" optionLabel="name" emptyMessage="Không có dữ liệu">
                                
                        </p-dropdown></div>
                       </div>
                    </div>
                    <div class="input-title">
                        Địa chỉ chi tiết
                    </div>
                    <div class="input-text">
                        <input type="text" pInputText>
                    </div>
                    <div class="input-title-required">
                        Email
                    </div>
                    <div class="input-text">
                        <input type="text" pInputText name="email"
                        [(ngModel)]="infoKhachHang.email" #email="ngModel" required email
                        [ngClass]="{ 'is-invalid': f.submitted && email.invalid }">
                    </div>
                    <div *ngIf="f.submitted && email.invalid">
                        <div *ngIf="email.errors?.['required']">
                            <small>Trường này không được để trống</small>
                        </div>
                        <div *ngIf="email.errors?.['email']">
                            <small>Sai định dạng email</small>
                        </div>
                    </div>
                    <div class="input-title-required" >
                        Số điện thoại
                    </div>
                    <div class="input-text">
                        <input type="number" pInputText name="sodienthoai"
                        [(ngModel)]="infoKhachHang.sodienthoai" #sodienthoai="ngModel" maxlength="10" required oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" ng-pattern="/(((\+|)84)|0)(3|5|7|8|9)+([0-9]{8})\b/" >
                    </div>
                    <div *ngIf="f.submitted && sodienthoai.invalid">
                        <div *ngIf="sodienthoai.errors?.['required']">
                            <small>Trường này không được để trống</small>
                        </div>
                        <div *ngIf="sodienthoai.errors?.['ng-pattern']">
                            <small>Số điện thoại không hợp lệ</small>
                        </div>
                    </div>
                    <div class="input-title">
                        Ngày sinh
                    </div>
                    <div class="input-text">
                        <p-calendar [showIcon]="true" inputId="ngaycheckin" ></p-calendar>
                    </div>
            </div>
            <div class="custommer-detail--avatar">
                <img src="../../../assets/img/hinh-dai-dien.png" alt="">
                <div class="actions">
                    <div class="edit">Sửa</div>
                    <div class="devision">|</div>
                    <div class="delete">Xóa</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 booking-body">
        <div class="booking-sort">
            <div class="grid">
                <div class="col-6">
                    Dịch vụ sử dụng
                </div>
                <div class="col-6 ">

                </div>
            </div>
        </div>
        <div class="grid">
            <div class="col-12">
                <p-table>
                    <ng-template pTemplate="header">
                        <tr>
                            <th>STT</th>
                            <th> Mã dịch vụ</th>
                            <th>Tên dịch vụ </th>
                            <th>Lĩnh vực </th>
                            <th>Giá</th>
                            <th>Thành tiền(đ)</th>
                            <th>Thao tác</th>
                        </tr>
                        <tr *ngFor="let item of addbooking">

                            <th>
                                {{item?.stt}}
                            </th>
                            <th>
                                {{item?.madichvu}}
                            </th>
                            <th>
                                {{item?.tendichvu}}
                            </th>
                            <th>
                                {{item?.linhvuc}}
                            </th>
                            <th>
                                {{item?.gia}}
                            </th>
                            <th>
                                {{item?.thanhtien}}
                            </th>
                            <th>
                                <a href=""><i class="pi pi-trash"></i></a>
                            </th>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
    <div class="button-event">
        <div class="button-right">
            <button pButton type="button" label="Hủy"></button>
        </div>
        <div class="button-left">
            <button pButton type="submit" label="Gửi yêu cầu"></button>
        </div>
    </div>
    </form>
</div>
<p-toast position="top-right"  [baseZIndex]="5000">
    <ng-template let-message pTemplate="message">
        <div class="p-flex p-flex-column" style="flex: 1">
            <div class="p-text-center">
                <i class="pi pi-exclamation-triangle" style="font-size: 3rem"></i>
                <h4>{{message.summary}}</h4>
                <p>{{message.detail}}</p>
            </div>
        </div>
    </ng-template>
</p-toast>